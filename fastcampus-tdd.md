# [현실 세상의 TDD: 안정감을 주는 코드 작성 방법](https://fastcampus.co.kr/dev_red_ygw)

## Intro. 좋은 코드
### 0. 엔지니어링
- 과학은 밝혀내는 것. 엔지니어링은 해결하는 것.
- Patterns always have two parts: the how and the when. Martin Fowler.

## 1부. 테스트 주도 개발 기초
### 1. 코드 기능 명세
- 지식의 흐름. 비즈니스 전문가 -> 분석가 -> 프로그래머 -> 컴퓨터
- 프로그래머에게 도메인 지식이 충분하지 않을 때 어떤 일이 발생할 수 있는가.
### 2. 테스트 기법
- 수동 테스트. 가장 온전한 코드 실행. 실행 비용이 높고 결과의 변동이 큼.
- 회귀 테스트 대상은 시간이 갈수록 늘어납니다. 수동 테스트로는 감당하기 힘듦.
- 테스트 자동화. 테스트 코드 작성 비용이 소비되지만 실행 비용이 낮고 결과의 신뢰도가 높음.
- 테스트 자동화. 테스트 코드 작성과 관리가 프로그래머 역량에 크게 영향 받음.
- 인수 테스트. 전체 시스템을 대상으로 검증. 높은 비용. 피드백 품질이 낮음.
- 단위 테스트. 시스템의 일부(하위 시스템)을 대상으로 검증. 낮은 비용. 높은 피드백 품질.
### 3. 코드 분해
- 한 번 쓰여진 코드는 필연적으로 여러 번 읽히게 됩니다.
- 커다란 문제를 나눈 작은 문제들에 대한 해법은 재사용 가능.
- 모듈. 인터페이스와 구현으로 나뉨.
### 4. 단위 테스트
- sut. System Under Test.
- 단위 테스트에서도 반복된 코드를 줄이는 방법. 하지만 테스트 자체는 개별로 유지되어야하므로, 테스트 프레임워크의 기능을 응용하자.
- 여기서는 jest의 parameterized test 기능을 사용.
### 5. 테스트 우선 개발
- 운영 코드보다 테스트 코드를 먼저 작성하는 개발 절차는 코딩의 수단보다 목적에 집중하도록 도와줍니다.
- 프로세스가 코딩에 앞선 목표 설정을 강요.
- faker를 통해 임의의 문자열을 생성, 테스트 파라미터로 사용.
### 6. 정리된 코드
- 지속적으로 코드를 정리하면 얻을 수 있는 이점.
- Re-factoring. 의미를 유지하며 코드베이스를 정리.
- 많은 프로그래머들이 의미가 유지되는 것을 확인하지 않고 고칩니다.
- 수동 테스트와 단위 테스트를 통한 의미 유지 비교.
### 7. 테스트 주도 개발
- 테스트 주도 개발은 테스트 우선 개발과 유사하지만 작은 차이가 있습니다.
- RED(테스트 실패): 실패하는 것을 확인해야 테스트가 동작함을 믿을 수 있다.
- GREEN(테스트 성공): 테스트 성공을 위한 최소한의 변경. 바로 이어서 추가 구현을 하고 싶은 유혹에 빠지면, 테스트되지 않은 코드를 추가하게 된다.
- REFACTOR(리팩터링): 코드베이스 정리. 구현 설계 개선. 인터페이스 설계를 변경해서는 안된다(테스트가 깨짐).
- TDD는 불안함을 지루함으로 바꾸는 작업.
- [켄트 벡의 설계 규칙](https://martinfowler.com/bliki/BeckDesignRules.html)
 - Passes the tests
 - Reveals intention
 - No duplication
 - Fewest elements
 - (Reveals intention과 No duplic ation은 서로 충돌할 수 있으며, 상황에 따라 선택해야 한다.)
### 8. 프로그래머 피드백
- 피드백: 코딩과 종료 사이에 있는, 원하는 결과물이었는지 확인하는 과정.
- 사용자 피드백: 가장 충격이 큰.
- Quality Assurance: 전문 인적 자원에 의한 인수 테스트.
- 프로그래머 테스트: 프로그래미가 직접 피드백 장치를 준비. 자동화된 테스트.
- 도구 피드백: 컴파일 오류, 정적 검사 등.
- "모든 테스트가 성공했습니다."
- 테스트 주도 개발의 핵심은 짧은 주기로 지속되는 피드백.